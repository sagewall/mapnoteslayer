<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MapNotesLayer Sample</title>
  </head>
  <body>
    <calcite-shell class="calcite-mode-auto">
      <arcgis-map center="-104.9903, 39.7392" zoom="10">
        <arcgis-zoom slot="top-left"></arcgis-zoom>
        <arcgis-expand
          expand-icon="question"
          expand-tooltip="How to use this sample"
          slot="top-left"
        >
          <calcite-panel class="max-width-450" heading="Instructions">
            <calcite-list>
              <calcite-list-item
                description="Use the action bar in the top right to draw points, polylines, polygons, or text notes on the map. The delete action removes all graphics. When drawing, an attribute panel appears to let you set a title. For text notes, the title becomes the displayed text."
                label="Action bar"
              ></calcite-list-item>
              <calcite-list-item
                description="After adding a graphic, click it to view its popup with the title you entered."
                label="Viewing popup information"
              ></calcite-list-item>
              <calcite-list-item
                description="Use the select action to pick a graphic and move it, edit its vertices (for lines and polygons), or update its title. The attribute panel will open for editing. To disable editing, click the select action again or choose another action."
                label="Selecting and editing features"
              ></calcite-list-item>
              <calcite-list-item
                description="Click the Save button to create a new WebMap with your current map notes. You can set a title for the WebMap before saving."
                label="Saving"
              ></calcite-list-item>
            </calcite-list>
          </calcite-panel>
        </arcgis-expand>

        <calcite-action-bar
          expand-disabled
          id="draw-action-bar"
          layout="horizontal"
          slot="top-right"
        >
          <calcite-tooltip
            placement="bottom-start"
            reference-element="draw-point-action"
          >
            <span>Draw point</span>
          </calcite-tooltip>
          <calcite-action
            icon="pin"
            id="draw-point-action"
            text="Draw point"
          ></calcite-action>

          <calcite-tooltip
            placement="bottom-start"
            reference-element="draw-polyline-action"
          >
            <span>Draw polyline</span>
          </calcite-tooltip>
          <calcite-action
            icon="line"
            id="draw-polyline-action"
            text="Draw polyline"
          ></calcite-action>

          <calcite-tooltip
            placement="bottom-start"
            reference-element="draw-polygon-action"
          >
            <span>Draw polygon</span>
          </calcite-tooltip>
          <calcite-action
            icon="polygon"
            id="draw-polygon-action"
            text="Draw polygon"
          ></calcite-action>

          <calcite-tooltip
            placement="bottom-start"
            reference-element="draw-text-action"
          >
            <span>Draw text</span>
          </calcite-tooltip>
          <calcite-action
            icon="text"
            id="draw-text-action"
            text="Draw text"
          ></calcite-action>

          <calcite-tooltip
            placement="bottom-start"
            reference-element="select-action"
          >
            <span>Select graphic and edit attributes</span>
          </calcite-tooltip>
          <calcite-action
            icon="select"
            id="select-action"
            text="Select graphic and edit attributes"
          ></calcite-action>

          <calcite-tooltip
            placement="bottom-start"
            reference-element="delete-action"
          >
            <span>Delete all graphics</span>
          </calcite-tooltip>
          <calcite-action
            icon="trash"
            id="delete-action"
            text="Delete all graphics"
          ></calcite-action>
        </calcite-action-bar>

        <calcite-panel hidden id="attribute-panel" slot="top-right">
          <calcite-label class="padding-1"
            >Edit the title:
            <calcite-input-text
              id="attribute-title-input-text"
              value="Map Note Title"
            ></calcite-input-text>
          </calcite-label>
        </calcite-panel>

        <calcite-panel heading="Save WebMap" slot="bottom-right">
          <calcite-label class="padding-1"
            >WebMap title
            <calcite-input-text
              id="webmap-title-input-text"
              value="Map Notes Webmap"
            ></calcite-input-text>
          </calcite-label>
          <calcite-button
            appearance="solid"
            class="padding-0-1-1-1"
            id="save-webmap"
            >Save</calcite-button
          >
        </calcite-panel>
      </arcgis-map>

      <calcite-dialog heading="Delete All Graphics" id="delete-dialog" modal>
        <calcite-panel>
          <calcite-notice icon id="delete-notice" kind="danger" open>
            <div slot="title">All graphics will be deleted</div>
            <div id="delete-message" slot="message">
              <span
                >Are you sure you want to delete all graphics?<br />To delete a
                single graphic, select it and press the delete key.</span
              >
            </div>
          </calcite-notice>
          <div class="buttons-container">
            <calcite-button appearance="solid" id="delete-confirm-button"
              >Delete</calcite-button
            >
            <calcite-button appearance="outline" id="delete-cancel-button"
              >Cancel</calcite-button
            >
          </div>
        </calcite-panel>
      </calcite-dialog>

      <calcite-dialog
        heading="Saved Webmap Information"
        id="save-results-dialog"
        modal
      >
        <calcite-panel>
          <calcite-loader
            id="save-loader"
            label="Saving Webmap"
            text="Saving Webmap"
          ></calcite-loader>
          <calcite-notice icon id="save-success-notice" kind="success">
            <div slot="title">The Webmap has been saved successfully</div>
            <div slot="message">
              <calcite-link
                id="save-success-link"
                slot="message"
                target="_blank"
                >Test</calcite-link
              >
            </div>
          </calcite-notice>
          <calcite-notice icon id="save-error-notice" kind="danger">
            <div slot="title">The Webmap could not be saved</div>
            <div id="save-error-message" slot="message"></div>
          </calcite-notice>
        </calcite-panel>
      </calcite-dialog>
    </calcite-shell>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
